// filename: /usr/share/X11/xkb/symbols/cmswin

partial modifier_keys
xkb_symbols "cms_modkeys" {
        key <CAPS> {
                type="ALPHABETIC",
                repeat=No,
                symbols[Group1]= [ Caps_Lock, Caps_Lock ],
                actions[Group1]= [ LockMods(modifiers=Lock),
                                   LockMods(modifiers=Shift+Lock,affect=unlock) ]
        };
        key <I169> {
                type="ALPHABETIC",
                repeat=No,
                symbols[Group1]= [ Print ]
        };
};

// edit: /usr/share/X11/xkb/rules/evdev
// add below of: ! option        =       symbols"
// cmswin:cms_modkeys            =       +cmswin(cms_modkeys)

// edit: /usr/share/X11/xkb/rules/evdev.lst
// add below of: ! option
//  cmswin
//  cmswin:cms_modkeys   fix keys for emacs

// dconf:
// /org/gnome/desktop/input-sources/xkb-options
// ['cmswin:cms_modkeys']
